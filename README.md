# 配車KING

## 概要

**配車KING** は、Google Apps Script と LINE Messaging API を活用した、山小屋の送迎情報自動通知システムです。  
予約表（Googleスプレッドシート）に入力された送迎情報を、LINEで自動的に通知・検索できるようにします。

📄 連携スプレッドシート:  
https://docs.google.com/spreadsheets/d/11E6ft1fjxalekGDz8Bb8imyNseENS1OCgQODkUwnctw/edit?usp=drive_link

## 主な機能

### ✅ 日付指定による送迎情報検索

- LINE メッセージで特定の日付を入力することで、その日の送迎情報を取得できます。
- 対応する日付の入力例：
  - `2024/1/1`
  - `2024-1-1`
  - `2024年1月1日`
- 年や月を省略した場合：
  - 現在の年・月が自動的に補完されます（例：`1日` → `2025年5月1日`）。

---

### ✅ 自動リマインド送信

1日3回、決まった時間帯に送迎情報を自動でLINEに送信します。

| 時間帯       | 通知内容             |
|------------|----------------------|
| 06:00〜07:00 | 当日の全送迎情報       |
| 11:00〜12:00 | 当日の午後の送迎情報   |
| 18:00〜19:00 | 翌日の全送迎情報       |

---

## 表示形式（メッセージ構造）

送迎情報は以下のように分類・表示されます：

1. 【迎え】 or 【送り】
2. 午前 / 午後 / 送迎時間不明
3. 送迎場所ごとにグループ化

---

## 通知されるメッセージ例と意味

- `〇〇は送迎はありません。`  
  → 指定された日付の送迎が存在しません。

- `◇◆ 詳細をクラウド備考欄で確認下さい。`  
  → 送迎場所が「その他」の場合に表示。スプレッドシートの「備考欄」を確認してください。

- `◇◆ 他にも送迎が必要な可能性があります。クラウド下段を確認して下さい。`  
  → スプレッドシートの下部（例：41行目以降）に記載された情報を確認するよう促します。

---

## システム構成

- LINE Messaging API
- Google Apps Script
- Google Spreadsheet（予約表）
- clasp（開発環境同期）
